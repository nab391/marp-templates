/***************************************************************************
 * 一般要素
 ***************************************************************************/
p {
  margin: 0.5em auto;
  text-spacing-trim: auto;
  text-align: left;
  font-size: var(--font-size-base);
  /* 文字詰設定 */
  /* font-feature-settings: "palt"; */
  font-feature-settings: "palt", "kern";
}
/* imgは強制でpの中になるので調整 */
p:has(> img) {
  text-align: center;
  margin: 0em !important;
  padding: 0em !important;
}
mark {
  color: inherit;
  background-color: inherit;
  font-weight: bold;
  font-style: normal;
  background: #21fc00; /* デフォルト */
}
.mark-red {
  background: linear-gradient(transparent 70%, #ff8888 30%);
}
.mark-green {
  background: linear-gradient(transparent 70%, var(--color-highlight-green) 30%);
}
.mark-yellow {
  background: linear-gradient(transparent 70%, var(--color-highlight-yellow) 30%);
}
.mark-blue {
  background: linear-gradient(transparent 70%, #66ccff 30%);
}
.mark-pink {
  background: linear-gradient(transparent 0%, var(--color-highlight-pink) 0%);
}
.mark-nocolor {
  background: linear-gradient(transparent 100%, var(--color-highlight-blue) 30%);
}
b, em, strong {
  /* markに移行 */
}
s { margin-left: 0.1em; margin-right: 0.1em; }
small { font-weight: normal; font-size: 0.7em; }
sub { font-weight: normal; font-size: 0.7em; }
sup { font-weight: normal; font-size: 0.7em; }
/* ルビ */
ruby { font-size: 0.95em; } /* 元の文字 */
rt   { font-size: 0.50em; } /* ルビ */

hr {
  width: 96%;
  margin: 0.5em auto;
  noshade: true;
  align: center;
  size: 1px;
  color: #000;
}
script {
  display: none;
}
button {
  font-size: 1.0em;
  font-family: var(--font-family-base), var(--font-family-monospace);
  background: #ffffff;
  border: none;
}

/***************************************************************************
 * list
 ***************************************************************************/
/* ベーススタイル */
ol, dl, ul {
  display: inline-block;
  min-width: 90%;
  /* margin-inline: auto; */
  margin: 0.2em 0em 0.2em 1em;
  padding: 0em;
  text-align: left;
  font-size: 1em;
  line-height: 1.15;
}

/* 余白調整 */
ul ul,
ul ol,
ol ol,
ol ul {
  display: block;
  margin: 0.1em 0em 0.1em 1.0em;
}

li {
  /* margin-left: 0em; */
  /* margin-bottom: 0em; */
  margin: 0.30em auto;
}
li p {
  margin: 0em !important;
  padding: 0em !important;
}

/* -------------- マーカー -------------- */
li::marker {
  /* font-family: var(--font-family-monospace); */
  font-feature-settings: normal;
}

[class^="marker-"][class$="-left"] ul {
  display: block;
  margin-left: max(5%, 2em);
}

/* デフォルトマーカー */
ol { list-style-type: decimal; }
ul { list-style-type: disc; }
ul ul { list-style-type: square; }
ul ul ul { list-style-type: circle; }

/* マーカーカスタマイズ */
[class^="marker-none"] ul { list-style-type: ""; }
[class^="marker-arrow"] ul { list-style-type: "→"; }
[class^="marker-star"] ul { list-style-type: "★"; }
li.arrow::marker {
  content: "→";
}

/* -------------- 説明要素（保留） -------------- */
dt {
  font-weight: bold;
}

dd {
  margin-left: 40px;
}

/***************************************************************************
 * テーブル
 ***************************************************************************/
table, td, th {
  border: 1px solid var(--border-color-main);
  border-collapse: collapse;
  font-size: 0.85em;
}
table {
  margin: 0.3em auto;
}
td, th {
  padding: 0.2em 0.5em;
}
th {
  background: #e0e0e0;
}

/***************************************************************************
 * 囲み系
 ***************************************************************************/
blockquote {
  width: 85%;
  margin: 0.5em auto;
  padding:0.0em;
  background: #eee;
  border-left:8px solid var(--border-color-main);
  text-align: left;
  font-size: 80%;
  font-style: normal;
}

/* -------------- オリジナル囲み枠 -------------- */
div[class^="box-"] {
  flex-direction: column;
  width: var(--box-width);
  margin: 0.5em auto 0.5em;
  padding: 0.6em !important;
  border-radius: var(--box-border-radius);
  /* box-shadow: 1px 1px 3px #acacac; */
  /* z-index: auto; */
  text-align: center;
  font-style: normal;
}
div[class^="box-"] p {
  margin: auto;
  padding: auto;
  line-height: 1.3;
  text-align: center;
}

.box-black {
  border-color: #222222;
  background: #eeeeee;
  color: #222222;
  border-width: 6px;
}
.box-yellow {
  border: 9px solid #ffdd00;
  background: #f9f9d8;
  color: #222222;
}
.box-info {
  border: var(--box-border-width) solid var(--box-info-border-color);
  background: var(--box-info-bg);
  color:  var(--box-info-fg);
}
.box-success {
  border: var(--box-border-width) solid var(--box-success-border-color);
  background: var(--box-success-bg);
  color:  var(--box-success-fg);
}
.box-warn {
  border: var(--box-border-width) solid var(--box-warn-border-color);
  background: var(--box-warn-bg);
  color:  var(--box-warn-fg);
}

/***************************************************************************
 * コード系
 ***************************************************************************/
/* -------------- 行内inline -------------- */
code {
  /* margin-inline: auto; */
  margin: 0 0.2em;
  padding: 0.02em 0.3em 0.00em;
  border: 2px solid #b8b8b8;
  background: #f5f5f5;
  font-family: var(--font-family-monospace);
  font-size: 0.9em;
  font-weight: normal;
  /* フォントのベースラインを調整 */
  position: relative;
  vertical-align: baseline;
  top: -0.05em; /* ベースラインからの縦位置調整 */
}

/* -------------- コードブロック -------------- */
pre {
  margin: 0.2em 0.5em !important;
  padding: 0em;
  border: 0px;
  text-align: justify;
  word-break: break-all;
  font-family: var(--font-family-monospace);
  font-size: var(--font-size-pre);
  line-height: 1.1;
}

pre code {
  display: block;
  overflow: auto;
  padding: 0.5em 1.0em 0.5em;
  /* border: 0.1em solid #666; */
  border-radius: var(--border-radius);
  border: 0px;
  /* box-shadow: 0 0 8px gray; */
  background: var(--color-code-bg);
  color: var(--color-code-fg);
  font-family: var(--font-family-monospace);
  /* overflow-wrap: anywhere; */
  word-break: break-all;
  cursor: text;
}

/* -------------- ファイル名表示(plugin) -------------- */
pre.named-fence-block {
  position: relative;
  cursor: text;
}
pre.named-fence-block code {
  padding-top: 60px;
}
.named-fence-filename {
  position: absolute;
  top: -1px;
  left: 1.2em;
  padding: 8px 0.6em;
  border-radius: 0% 0%  6px 6px;
  background: #737676;
  font-family: var(--font-family-base);
  font-weight: bold;
  font-size: 0.8em;
  color: #ffffff;
  opacity: 1.0;
}
/* -------------- ファイル名表示(plugin無し→preに隠れてしまう) -------------- */
drop.pre:has(> code[named-block]) {
  padding-top: 1.8em;
  z-index: 110;
}
drop.code[named-block] {
  position: relative;
  margin-top: 0px;
  padding-top: 0px;
}
drop.code[named-block]::before {
  position: absolute;
  top: -1.8em;
  left: 0.8em;
  padding: .25em .75em;
  border-top-left-radius: 8px;
  border-bottom-right-radius: 8px;
  content: attr(named-block);
  font-size: .75em;
  font-weight: bold;
  color: #fff;
  background: #737676;
  z-index: 100;
  opacity: 1.0;
}
/***************************************************************************
 * 数式
 ***************************************************************************/
.cjk_fallback {
  font-family: "BIZ UDPGothic", sans-serif;
  font-size: 0.9em;
}
/* -------------- katex(インライン表示) -------------- */
.katex {
  margin: 0.0em 0.1em;
  font-size: 1.1em;
  /* フォントのベースラインを調整 */
  position: relative;
  vertical-align: baseline;
  top:  0.00em; /* ベースラインからの縦位置調整 */
}

/* 「pがspan.katexを子・孫として持つ」 */
p:has(> span.katex),
p:has(* > span.katex) {
  /* 特に設定なし */
}

/* 「pがspan.katexを唯一の直接の子として持つ」 */
p:has(> span.katex:only-child) {
  /* padding: 0.2em 0em 0.1em; */
}

/* -------------- katex-display(ブロック表示) -------------- */
.katex-display {
  padding: 0.3em 0em;
}

/* 「pがspan.katex-displayを子として持つ」 */
/* <p><span class="katex-display">...</span></p> */
p:has(> span.katex-display) {
  padding: 0.0em 0em 0.0em;
}
/* 「pがspan.katex-displayを子として持つ」 */
/* <p><span class="katex-display">...</span></p> */
p > span.katex-display {
  /* 特に設定なし */
}

/*
* <p>前段</p>
* <p><span class="katex-display">数式</span></p>
* <p>後段</p>
*/
/* 前段のp → 効かない */
p:has(+ p:has(> span.katex-display)) {
  /* スタイル */
  /* padding-bottom: 0.1em; */
}
/* 後段のp */
p:has(> span.katex-display) + p {
  /* スタイル */
  /* padding-top: 0.1em; */
}

/* -------------- math-jax -------------- */
.MathJax {
  font-size:  100%;
  margin: 0.1em 0.1em;
}
p:has(> .MathJax) {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
  /* padding: 0.0em 0.0em 0.0em; */
  /* padding-left: 0.0em; */
  /* padding-right: 0.0em; */
}
/* .math { */
/*   font-size: 100%; */
/*   margin: 0.2em; */
/* } */


